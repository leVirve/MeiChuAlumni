
<style media="screen">
.item{
  box-shadow: 10px 10px 5px #888888;
  max-width: 300px;
  max-height: 300px;
}
</style>


<div class="container row" style="padding-top:20px;">
  <h2 class="pink-text text-accent-5">梅竹賽活動照片</h2>
  <div class="col s6 m6">
    <div class="card">
      <div class="card-image">
        <img src="https://lh6.googleusercontent.com/-HvayzMFvVmI/VNRNQJ7JTvI/AAAAAAAAABE/HOjMOv2a2DE/23919_79f6d1a5.jpg">
        <span class="card-title"><a href="https://picasaweb.google.com/data/feed/base/user/103449317412346247800/albumid/6112595503038439665" class="album pink-text text-accent-4">乙未梅竹</a></span>
      </div>
    </div>
  </div>
  <div class="col s6 m6">
    <div class="card">
      <div class="card-image">
        <img src="https://lh3.googleusercontent.com/-PMJ29t60P4g/VNRNSwwrHsI/AAAAAAAAABo/wPBxPoauq7w/gallery_2880_9020784_55491.jpg">
        <span class="card-title"><a href="https://picasaweb.google.com/data/feed/base/user/103449317412346247800/albumid/6112595503038439665" class="album pink-text text-accent-4">甲午梅竹</a></span>
      </div>
    </div>
  </div>

</div>


<div id="output">

</div>

{% raw %}
<script id="template" type="text/x-jquery-template">
  <div id="photo">
    <div id="_container">
    {{each photos}}
    <img class="item" src="${src}" alt="" />
    {{/each}}
    </div>
  </div>
</script>
{% endraw %}

<script>
$(function(){

  $('.album').click(function(){getalbum($(this).attr('href'));return false;});

  function getalbum(url) {
    $.ajax({
        dataType: 'jsonp',
        url: url,
        data: {
            alt: 'json-in-script',
        },
        jsonpCallback: 'picasaCallback',
        success: function(data){
            var photos = [];
            $.each(data.feed.entry, function(){
                photos.push({
                    src: this.content.src
                });
            });
            $('#output').empty();
            $('#template').tmpl({
                photos: photos
            }).appendTo('#output');
        },
        error: function(){
        }
    });
  }
});
</script>
<script>
  var $container = $('#_container');
  // initialize
  $container.imagesLoaded( function() {
    $container.masonry({
      itemSelector: '.item',
      columWidth: 200,
      isAnimated: true
    });
  });
</script>
